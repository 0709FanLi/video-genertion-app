模型与价格

首尾帧生视频模型的所有输出视频均采用统一规格：帧率30 fps，格式 mp4（H.264 编码）。不同版本模型的特性如下所示：




模型名称

模型简介

输出视频格式

wan2.2-kf2v-flash 推荐

万相2.2极速版

指令理解与运镜控制更准，画面元素保持一致，稳定性与成功率全面提升

分辨率档位：480P、720P、1080P

时长：5秒

wanx2.1-kf2v-plus

万相2.1专业版

复杂运动，物理规律还原，画面细腻

分辨率档位：720P

时长：5秒

说明
模型切换：最新万相2.2模型名称前缀为wan，往期模型为wanx。切换时请仔细核对，以免调用失败。

模型耗时：推荐使用万相最新模型，性能更优。具体耗时受限于排队任务数量和服务执行情况，请在获取结果时耐心等待。

视频特效模板：不同模型支持不同的特效模板。在调用前，请务必查阅视频特效列表，以免调用失败。

模型计费：请参见计费和限流。

前提条件
通义万相-首尾帧生视频API支持通过HTTP和DashScope SDK进行调用。

在调用前，您需要获取API Key，再配置API Key到环境变量。

如需通过SDK进行调用，请安装DashScope SDK。目前，该SDK已支持Python和Java。

重要
北京和新加坡地域拥有独立的 API Key 与请求地址，不可混用，跨地域调用将导致鉴权失败或服务报错。

HTTP调用
首尾帧生视频模型处理时间较长，为了避免请求超时，HTTP调用仅支持异步获取模型结果。您需要发起两个请求：

创建任务获取任务ID：首先发送一个请求创建任务，该请求会返回任务ID（task_id）。

根据任务ID查询结果：使用task_id轮询任务状态，直到任务完成并获得结果。

步骤1：创建任务获取任务ID
北京地域：POST https://dashscope.aliyuncs.com/api/v1/services/aigc/image2video/video-synthesis

新加坡地域：POST https://dashscope-intl.aliyuncs.com/api/v1/services/aigc/image2video/video-synthesis

说明
任务创建后，接口将返回task_id。接着，在步骤2中使用该task_id查询任务状态和结果，查询有效期为 24 小时。

异步调用必须设置 Header 参数X-DashScope-Async 为enable。

新手指引请参见Postman。

请求参数
首尾帧生视频首尾帧生视频（Base64）首尾帧生视频（使用视频特效）首尾帧生视频（使用反向提示词）
根据首尾帧和prompt生成视频。

 
curl --location 'https://dashscope.aliyuncs.com/api/v1/services/aigc/image2video/video-synthesis' \
    -H 'X-DashScope-Async: enable' \
    -H "Authorization: Bearer $DASHSCOPE_API_KEY" \
    -H 'Content-Type: application/json' \
    -d '{
    "model": "wan2.2-kf2v-flash",
    "input": {
        "first_frame_url": "https://wanx.alicdn.com/material/20250318/first_frame.png",
        "last_frame_url": "https://wanx.alicdn.com/material/20250318/last_frame.png",
        "prompt": "写实风格，一只黑色小猫好奇地看向天空，镜头从平视逐渐上升，最后俯拍小猫好奇的眼神。"
    },
    "parameters": {
        "resolution": "480P",
        "prompt_extend": true
    }
}'
请求头（Headers）
Content-Type string （必选）

请求内容类型。此参数必须设置为application/json。

Authorization string（必选）

请求身份认证。接口使用阿里云百炼API-Key进行身份认证。示例值：Bearer sk-xxxx。

X-DashScope-Async string （必选）

异步处理配置参数。HTTP请求只支持异步，必须设置为enable。

重要
缺少此请求头将报错：“current user api does not support synchronous calls”。

请求体（Request Body）
model string （必选）

模型名称。可选值：wan2.2-kf2v-flash、wanx2.1-kf2v-plus。

input object （必选）

输入的基本信息，如提示词等。

属性

prompt string （可选）

文本提示词。支持中英文，长度不超过800个字符，每个汉字/字母占一个字符，超过部分会自动截断。

如果首尾帧的主体和场景变化较大，建议描写变化过程，例如运镜过程（镜头向左移动）、或者主体运动过程（人向前奔跑）。

示例值：一只黑色小猫好奇地看向天空，镜头从平视逐渐上升，最后俯拍小猫好奇的眼神。

提示词的使用技巧请参见文生视频/图生视频Prompt指南。

negative_prompt string （可选）

反向提示词，用来描述不希望在视频画面中看到的内容，可以对视频画面进行限制。

支持中英文，长度不超过500个字符，超过部分会自动截断。

示例值：低分辨率、错误、最差质量、低质量、残缺、多余的手指、比例不良等。

first_frame_url string （必选）

首帧图像的URL或 Base64 编码数据。

图像限制：

图像格式：JPEG、JPG、PNG（不支持透明通道）、BMP、WEBP。

图像分辨率：图像的宽度和高度范围为[360, 2000]，单位为像素。

文件大小：不超过10MB。

输入图像说明：

使用公网可访问URL

支持 HTTP 或 HTTPS 协议。您也可在此获取临时URL。

示例值：https://wanx.alicdn.com/material/20250318/first_frame.png。

传入 Base64 编码图像后的字符串

数据格式：data:{MIME_type};base64,{base64_data}。格式说明请参见传值方式。

示例值：data:image/png;base64,GDU7MtCZzEbTbmRZ......。

注意：示例中的编码字符串不完整，仅做演示。

last_frame_url string （可选）

尾帧图像的URL或 Base64 编码数据。

图像限制：

图像格式：JPEG、JPG、PNG（不支持透明通道）、BMP、WEBP。

图像分辨率：图像的宽度和高度范围为[360, 2000]，单位为像素。

文件大小：不超过10MB。

输入图像说明：

使用公网可访问URL

支持 HTTP 或 HTTPS 协议。您也可在此获取临时URL。

示例值：https://wanx.alicdn.com/material/20250318/last_frame.png。

使用 Base64 编码图像文件

传参的数据格式：data:{MIME_type};base64,{base64_data}。格式说明请参见传值方式。

示例值：data:image/png;base64,VBORw0KGgoAAAANSUh......。

注意：示例中的编码字符串不完整，仅做演示。

template string （可选）

指定视频特效模板的名称。

若填写，必须传入first_frame_url，无需传入prompt和last_frame_url。

若不填写，则表示不使用任何视频特效。

当前支持的模板：hufu-1（唐韵翩然）、solaron（机甲变身）等。

不同模型支持不同的特效模板。在调用前，请务必查阅视频特效列表，避免因模板不兼容而导致调用失败。

示例值：hufu-1。

parameters object （可选）

视频处理参数。

属性

resolution string （可选）

生成视频的分辨率档位。不同模型支持的分辨档位如下：

wan2.2-kf2v-flash：可选值：480P、720P、1080P。默认值为720P。

wanx2.1-kf2v-plus：可选值：720P。默认值为720P。

示例值：720P。

说明：分辨率档位对生成视频的分辨率的影响

模型会尽量保持输出视频与输入图像的宽高比一致，在宽高比不变的基础上，将视频总像素调整到所选档位附近。

480P：视频分辨率通常指 640×480（约 31万像素），视频宽高比为4:3。

720P：视频分辨率通常指 1280×720（约 92万像素），视频宽高比为16:9。

1080P：视频分辨率通常指 1920×1080（约 207万像素），视频宽高比为16:9。

示例：若输入图像的宽高比例为 4:3，且视频分辨率档位为720P ，则输出视频的宽高比会保持4:3，分辨率会调整为接近 92万像素。例如，输出视频的分辨率为 1024×960，总像素 98.3万（此数据仅做参考，以实际输出为准）。

duration integer （可选）

视频生成时长，单位为秒。当前参数值固定为5，且不支持修改。模型将始终生成5秒时长的视频。

prompt_extend bool （可选）

是否开启prompt智能改写。开启后使用大模型对输入prompt进行智能改写。对于较短的prompt生成效果提升明显，但会增加耗时。

true：默认值，开启智能改写。

false：不开启智能改写。

watermark bool （可选）

是否添加水印标识，水印位于图片右下角，文案为“AI生成”。

false：默认值，不添加水印。

true：添加水印。

seed integer （可选）

随机数种子。取值范围是[0, 2147483647]。

如果不提供，则算法自动生成一个随机数作为种子。如果希望生成内容保持相对稳定，请使用相同的seed参数值。

提示：模型生成过程具有概率性，因此即使使用相同的 seed，也不能保证每次生成结果完全一致。

响应参数
成功响应异常响应
请保存 task_id，用于查询任务状态与结果。

 
{
    "output": {
        "task_status": "PENDING",
        "task_id": "0385dc79-5ff8-4d82-bcb6-xxxxxx"
    },
    "request_id": "4909100c-7b5a-9f92-bfe5-xxxxxx"
}
output object

任务输出信息。

属性

task_id string

任务ID。查询有效期24小时。

task_status string

任务状态。

枚举值

PENDING：任务排队中

RUNNING：任务处理中

SUCCEEDED：任务执行成功

FAILED：任务执行失败

CANCELED：任务已取消

UNKNOWN：任务不存在或状态未知

request_id string

请求唯一标识。可用于请求明细溯源和问题排查。

code string

请求失败的错误码。请求成功时不会返回此参数，详情请参见错误信息。

message string

请求失败的详细信息。请求成功时不会返回此参数，详情请参见错误信息。

步骤2：根据任务ID查询结果
北京地域：GET https://dashscope.aliyuncs.com/api/v1/tasks/{task_id}

新加坡地域：GET https://dashscope-intl.aliyuncs.com/api/v1/tasks/{task_id}

说明
首尾帧视频耗时较长，建议采用轮询机制，并设置合理的查询间隔（如 15 秒）来获取结果。

task_id 查询有效期为24小时，超时后将无法查询结果，系统将返回任务状态为UNKNOWN。

任务成功后返回的 video_url有效期为24小时，请及时下载并保存视频。

此查询接口的默认QPS为20。如需更高频次的查询或事件通知，请配置异步任务回调。

如需批量查询或取消任务，请参见管理异步任务。

请求参数
查询任务结果
请将86ecf553-d340-4e21-xxxxxxxxx替换为真实的task_id。

 
curl -X GET https://dashscope.aliyuncs.com/api/v1/tasks/86ecf553-d340-4e21-xxxxxxxxx \
--header "Authorization: Bearer $DASHSCOPE_API_KEY"
请求头（Headers）
Authorization string（必选）

请求身份认证。接口使用阿里云百炼API-Key进行身份认证。示例值：Bearer sk-xxxx。

URL路径参数（Path parameters）
task_id string（必选）

任务ID。

响应参数
任务执行成功任务执行失败任务查询过期
任务数据（如任务状态、视频URL等）仅保留24小时，超时后会被自动清除。请您务必及时保存生成的视频。

 
{
    "request_id": "ec016349-6b14-9ad6-8009-xxxxxx",
    "output": {
        "task_id": "3f21a745-9f4b-4588-b643-xxxxxx",
        "task_status": "SUCCEEDED",
        "submit_time": "2025-04-18 10:36:58.394",
        "scheduled_time": "2025-04-18 10:37:13.802",
        "end_time": "2025-04-18 10:45:23.004",
        "video_url": "https://dashscope-result-wlcb.oss-cn-wulanchabu.aliyuncs.com/xxx.mp4?xxxxx",
        "orig_prompt": "写实风格，一只黑色小猫好奇地看向天空，镜头从平视逐渐上升，最后俯拍小猫好奇的眼神。",
        "actual_prompt": "写实风格，一只黑色小猫好奇地看向天空，镜头从平视逐渐上升，最后俯拍小猫好奇的眼神。小猫的黄色眼睛明亮有神，毛发光滑，胡须清晰可见。背景是简单的浅色墙面，突显小猫的黑色身影。近景特写，强调小猫的表情变化和眼神细节。"
    },
    "usage": {
        "duration": 5,
        "video_count": 1,
        "SR": 480
    }
}
output object

任务输出信息。

属性

task_id string

任务ID。查询有效期24小时。

task_status string

任务状态。

枚举值

PENDING：任务排队中

RUNNING：任务处理中

SUCCEEDED：任务执行成功

FAILED：任务执行失败

CANCELED：任务已取消

UNKNOWN：任务不存在或状态未知

submit_time string

任务提交时间。格式为 YYYY-MM-DD HH:mm:ss.SSS。

scheduled_time string

任务执行时间。格式为 YYYY-MM-DD HH:mm:ss.SSS。

end_time string

任务完成时间。格式为 YYYY-MM-DD HH:mm:ss.SSS。

video_url string

视频URL。链接有效期24小时，可通过此URL下载视频。输出视频格式为mp4（H.264 编码）。

orig_prompt string

原始的输入prompt。

actual_prompt string

开启prompt智能改写后实际使用的prompt。若不开启prompt智能改写，不会返回该字段。

code string

请求失败的错误码。请求成功时不会返回此参数，详情请参见错误信息。

message string

请求失败的详细信息。请求成功时不会返回此参数，详情请参见错误信息。

usage object

输出信息统计。只对成功的结果计数。

属性

video_duration integer

生成视频的时长，单位秒。

video_count integer

生成视频的数量。固定为1。

video_ratio string

生成视频的比例。当前仅当2.1模型返回该值，固定为standard。

SR integer

生成视频的画幅尺寸。当前仅当2.2模型返回该值，枚举值为480、720、1080。

request_id string

请求唯一标识。可用于请求明细溯源和问题排查。

DashScope SDK调用
请先确认已安装最新版DashScope SDK，否则可能导致运行报错。

DashScope SDK目前已支持Python和Java。

SDK与HTTP接口的参数名基本一致，参数结构根据不同语言的SDK封装而定。参数说明可参考HTTP调用。

由于视频生成模型处理时间较长，底层服务采用异步方式提供。SDK在上层进行了封装，支持同步、异步两种调用方式。

Python SDK调用
使用Python SDK处理图像文件时，支持以下三种方式输入图像。请根据您的场景选择其中一种即可。

公网 URL：公网可访问的图像 URL（HTTP/HTTPS）。您可在此获取临时公网URL。

Base64编码：传入Base64编码文件后的字符串，格式为data:{MIME_type};base64,{base64_data}。

本地文件路径：支持传入文件的绝对路径和相对路径。请参考下表，传入正确的文件路径。





系统

传入的文件路径

示例（绝对路径）

示例（相对路径）

Linux或macOS系统

file://{文件的绝对路径或相对路径}

file:///home/images/test.png

file://./images/test.png

Windows系统

file://D:/images/test.png

file://./images/test.png

示例代码
说明
在调用代码前，请确保已安装 DashScope Python SDK，推荐升级至最新版本：pip install -U dashscope，详见安装SDK。

同步调用异步调用
本示例展示同步调用方式，并支持三种图像输入方式：公网URL、Base64编码、本地文件路径。

请求示例
 
import base64
import os
from http import HTTPStatus
from dashscope import VideoSynthesis
import mimetypes
import dashscope

# 以下为北京地域url，若使用新加坡地域的模型，需将url替换为：https://dashscope-intl.aliyuncs.com/api/v1
dashscope.base_http_api_url = 'https://dashscope.aliyuncs.com/api/v1'


"""
环境要求：
    dashscope python SDK >= 1.23.8
安装/升级SDK:
    pip install -U dashscope
"""

# 若没有配置环境变量，请用百炼API Key将下行替换为：api_key="sk-xxx"
# 新加坡和北京地域的API Key不同。获取API Key：https://help.aliyun.com/zh/model-studio/get-api-key
api_key = os.getenv("DASHSCOPE_API_KEY")

# --- 辅助函数：用于 Base64 编码 ---
# 格式为 data:{MIME_type};base64,{base64_data}
def encode_file(file_path):
    mime_type, _ = mimetypes.guess_type(file_path)
    if not mime_type or not mime_type.startswith("image/"):
        raise ValueError("不支持或无法识别的图像格式")
    with open(file_path, "rb") as image_file:
        encoded_string = base64.b64encode(image_file.read()).decode('utf-8')
    return f"data:{mime_type};base64,{encoded_string}"

"""
图像输入方式说明：
以下提供了三种图片输入方式，三选一即可

1. 使用公网URL - 适合已有公开可访问的图片
2. 使用本地文件 - 适合本地开发测试
3. 使用Base64编码 - 适合私有图片或需要加密传输的场景
"""

# 【方式一】使用公网图片 URL
first_frame_url = "https://wanx.alicdn.com/material/20250318/first_frame.png"
last_frame_url = "https://wanx.alicdn.com/material/20250318/last_frame.png"

# 【方式二】使用本地文件（支持绝对路径和相对路径）
# 格式要求：file:// + 文件路径
# 示例（绝对路径）：
# first_frame_url = "file://" + "/path/to/your/first_frame.png"  # Linux/macOS
# last_frame_url = "file://" + "C:/path/to/your/last_frame.png"  # Windows
# 示例（相对路径）：
# first_frame_url = "file://" + "./first_frame.png"              # 以实际路径为准
# last_frame_url = "file://" + "./last_frame.png"                # 以实际路径为准

# 【方式三】使用Base64编码的图片
# first_frame_url = encode_file("./first_frame.png")            # 以实际路径为准
# last_frame_url = encode_file("./last_frame.png")              # 以实际路径为准

def sample_sync_call_kf2v():
    print('please wait...')
    rsp = VideoSynthesis.call(api_key=api_key,
                              # model可切换为：
                              model="wanx2.1-kf2v-plus",
                              prompt="写实风格，一只黑色小猫好奇地看向天空，镜头从平视逐渐上升，最后俯拍小猫好奇的眼神。",
                              first_frame_url=first_frame_url,
                              last_frame_url=last_frame_url,
                              resolution="720P",
                              prompt_extend=True)
    print(rsp)
    if rsp.status_code == HTTPStatus.OK:
        print(rsp.output.video_url)
    else:
        print('Failed, status_code: %s, code: %s, message: %s' %
              (rsp.status_code, rsp.code, rsp.message))


if __name__ == '__main__':
    sample_sync_call_kf2v()
响应示例
video_url 有效期24小时，请及时下载视频。
 
{
    "status_code": 200,
    "request_id": "efa545b3-f95c-9e3a-a3b6-xxxxxx",
    "code": null,
    "message": "",
    "output": {
        "task_id": "721164c6-8619-4a35-a6d9-xxxxxx",
        "task_status": "SUCCEEDED",
        "video_url": "https://dashscope-result-sh.oss-cn-shanghai.aliyuncs.com/xxx.mp4?xxxxx",
        "submit_time": "2025-02-12 11:03:30.701",
        "scheduled_time": "2025-02-12 11:06:05.378",
        "end_time": "2025-02-12 11:12:18.853",
        "orig_prompt": "写实风格，一只黑色小猫好奇地看向天空，镜头从平视逐渐上升，最后俯拍小猫好奇的眼神。",
        "actual_prompt": "写实风格，一只黑色小猫好奇地看向天空，镜头从平视逐渐上升，最后俯拍小猫好奇的眼神。小猫毛发乌黑光亮，眼睛大而明亮，瞳孔呈金黄色。它抬头仰望，耳朵竖立，显得格外专注。镜头上移后，小猫转头直视镜头，眼神中充满好奇与警觉。背景简洁，突出小猫的细节特征。近景特写，自然光线柔和。"
    },
    "usage": {
        "video_count": 1,
        "video_duration": 5,
        "video_ratio": "standard"
    }
}
Java SDK调用
使用Java SDK处理图像文件时，支持以下三种方式输入图像。请根据您的场景选择其中一种即可。

公网 URL：公网可访问的图像 URL（HTTP/HTTPS）。您可在此获取临时公网URL。

Base 64编码：传入Base64编码文件后的字符串，格式为data:{MIME_type};base64,{base64_data}。

本地文件路径：仅支持传入文件的绝对路径。请参考下表，传入正确的文件路径。




系统

传入的文件路径

示例

Linux或macOS系统

file://{文件的绝对路径}

file:///home/images/test.png

Windows系统

file:///{文件的绝对路径}

file:///D:/images/test.png

示例代码
说明
在调用代码前，请确保已安装 DashScope Java SDK。推荐您升级至最新版本，详见安装SDK。

同步调用异步调用
本示例展示同步调用方式，并支持三种图像输入方式：公网URL、Base64编码、本地文件路径。

请求示例
 
// Copyright (c) Alibaba, Inc. and its affiliates.

import com.alibaba.dashscope.aigc.videosynthesis.VideoSynthesis;
import com.alibaba.dashscope.aigc.videosynthesis.VideoSynthesisParam;
import com.alibaba.dashscope.aigc.videosynthesis.VideoSynthesisResult;
import com.alibaba.dashscope.exception.ApiException;
import com.alibaba.dashscope.exception.InputRequiredException;
import com.alibaba.dashscope.exception.NoApiKeyException;
import com.alibaba.dashscope.utils.Constants;
import com.alibaba.dashscope.utils.JsonUtils;

import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.Base64;
import java.util.HashMap;
import java.util.Map;

/**
 * 环境要求
 *      dashscope java SDK >= 2.20.9
 * 更新maven依赖:
 *      https://mvnrepository.com/artifact/com.alibaba/dashscope-sdk-java
 */
public class Kf2vSync {

    static {
        // 以下为北京地域url，若使用新加坡地域的模型，需将url替换为：https://dashscope-intl.aliyuncs.com/api/v1
        Constants.baseHttpApiUrl = "https://dashscope.aliyuncs.com/api/v1";
    }

    // 若没有配置环境变量，请用百炼API Key将下行替换为：apiKey="sk-xxx"
    // 新加坡和北京地域的API Key不同。获取API Key：https://help.aliyun.com/zh/model-studio/get-api-key
    static String apiKey = System.getenv("DASHSCOPE_API_KEY");

    /**
     * 图像输入方式说明：三选一即可
     *
     * 1. 使用公网URL - 适合已有公开可访问的图片
     * 2. 使用本地文件 - 适合本地开发测试
     * 3. 使用Base64编码 - 适合私有图片或需要加密传输的场景
     */

    //【方式一】公网URL
    static String firstFrameUrl = "https://wanx.alicdn.com/material/20250318/first_frame.png";
    static String lastFrameUrl = "https://wanx.alicdn.com/material/20250318/last_frame.png";

    //【方式二】本地文件路径（file://+绝对路径 or file:///+绝对路径）
    // static String firstFrameUrl = "file://" + "/your/path/to/first_frame.png";   // Linux/macOS
    // static String lastFrameUrl = "file:///" + "C:/path/to/your/img.png";        // Windows

    //【方式三】Base64编码
    // static String firstFrameUrl = Kf2vSync.encodeFile("/your/path/to/first_frame.png");
    // static String lastFrameUrl = Kf2vSync.encodeFile("/your/path/to/last_frame.png");


    public static void syncCall() {

        Map<String, Object> parameters = new HashMap<>();
        parameters.put("prompt_extend", true);
        parameters.put("resolution", "720P");

        VideoSynthesis videoSynthesis = new VideoSynthesis();
        VideoSynthesisParam param =
                VideoSynthesisParam.builder()
                        .apiKey(apiKey)
                        .model("wanx2.1-kf2v-plus")
                        .prompt("写实风格，一只黑色小猫好奇地看向天空，镜头从平视逐渐上升，最后俯拍小猫好奇的眼神。")
                        .firstFrameUrl(firstFrameUrl)
                        .lastFrameUrl(lastFrameUrl)
                        .parameters(parameters)
                        .build();
        VideoSynthesisResult result = null;
        try {
            System.out.println("---sync call, please wait a moment----");
            result = videoSynthesis.call(param);
        } catch (ApiException | NoApiKeyException e){
            throw new RuntimeException(e.getMessage());
        } catch (InputRequiredException e) {
            throw new RuntimeException(e);
        }
        System.out.println(JsonUtils.toJson(result));
    }

    /**
     * 将文件编码为Base64字符串
     * @param filePath 文件路径
     * @return Base64字符串，格式为 data:{MIME_type};base64,{base64_data}
     */
    public static String encodeFile(String filePath) {
        Path path = Paths.get(filePath);
        if (!Files.exists(path)) {
            throw new IllegalArgumentException("文件不存在: " + filePath);
        }
        // 检测MIME类型
        String mimeType = null;
        try {
            mimeType = Files.probeContentType(path);
        } catch (IOException e) {
            throw new IllegalArgumentException("无法检测文件类型: " + filePath);
        }
        if (mimeType == null || !mimeType.startsWith("image/")) {
            throw new IllegalArgumentException("不支持或无法识别的图像格式");
        }
        // 读取文件内容并编码
        byte[] fileBytes = null;
        try{
            fileBytes = Files.readAllBytes(path);
        } catch (IOException e) {
            throw new IllegalArgumentException("无法读取文件内容: " + filePath);
        }

        String encodedString = Base64.getEncoder().encodeToString(fileBytes);
        return "data:" + mimeType + ";base64," + encodedString;
    }

    public static void main(String[] args) {
        syncCall();
    }
}
响应示例
video_url 有效期24小时，请及时下载视频。
 
{
    "request_id": "e6bb4517-c073-9c10-b748-dedb8c11bb41",
    "output": {
        "task_id": "984784fe-83c1-4fc4-88c7-52c2c1fa92a2",
        "task_status": "SUCCEEDED",
        "video_url": "https://dashscope-result-wlcb-acdr-1.oss-cn-wulanchabu-acdr-1.aliyuncs.com/xxx.mp4?xxxxx"
    },
    "usage": {
        "video_count": 1,
        "video_duration": 5,
        "video_ratio": "standard"
    }
}
错误码
如果模型调用失败并返回报错信息，请参见错误信息进行解决。

此API还有特定状态码，具体如下所示。





HTTP状态码

接口错误码（code）

接口错误信息（message）

含义说明

400

InvalidParameter

InvalidParameter

请求参数不合法。

400

IPInfringementSuspect

Input data is suspected of being involved in IP infringement.

输入数据（如提示词或图像）涉嫌知识产权侵权。请检查输入，确保不包含引发侵权风险的内容。

400

DataInspectionFailed

Input data may contain inappropriate content.

输入数据（如提示词或图像）可能包含敏感内容。请修改输入后重试。

500

InternalError

InternalError

服务异常。请先尝试重试，排除偶发情况。

输入图像说明
传值方式
输入图像支持多种字符串格式，不同调用方式的支持情况如下表所示。





调用方式

HTTP

Python SDK

Java SDK

输入图像方式

公网URL

Base 64编码

公网URL

Base 64编码

本地文件路径

公网URL

Base 64编码

本地文件路径

方式一：使用公网URL

提供一个公网可访问的图像地址，支持 HTTP 或 HTTPS 协议。请在此获取临时公网URL。

示例值：https://xxxx/img.png。

方式二：使用Base64编码

将本地图片文件转换为 Base64 格式的字符串，并根据data:{MIME_type};base64,{base64_data}格式拼接成完整的字符串。

转换代码请参见示例代码。

{MIME_type}：图像的媒体类型，需与文件格式对应。

{base64_data}：图像文件经过 Base64 编码后的完整数据字符串。

MIME 类型对应关系：



图像格式

MIME Type

JPEG

image/jpeg

JPG

image/jpeg

PNG

image/png

BMP

image/bmp

WEBP

image/webp

示例值：data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABDg......。

注意：为便于展示，上述 Base64 字符串是截断的。在实际使用中，请务必传入完整的编码字符串。

方式三：本地文件路径

HTTP调用不支持本地文件路径，仅Python SDK和Java SDK支持。

关于本地文件路径的传入规则，请参见Python SDK调用和Java SDK调用。

计费和限流
模型免费额度和计费单价请参见图生视频-基于首尾帧。

模型限流请参见通义万相系列。
